<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="kr.happyjob.study.sup.dao.AwardMgtDao">

	<!-- 수상 목록 조회 -->
	<select id="listAward"
		resultType="kr.happyjob.study.sup.model.AwardMgtModel">
		/*kr.happy.study.sup.dao.AwardMgtDao.listAward*/
		SELECT
		award_no as award_no
		, award_nm as award_nm
		, award_date as award_date

		FROM tb_award
		WHERE loginID = #{loginID}

		ORDER BY award_date DESC
		LIMIT #{pageIndex}, #{pageSize}

	</select>

	<!-- 수상 목록 총 갯수 조회 -->
	<select id="countListAward" resultType="int">
		/*kr.happy.study.sup.dao.AwardMgtDao.countListAward*/
		SELECT COUNT(1)
		AS tot_cnt

		FROM tb_award
		WHERE loginID = #{loginID}

	</select>

	<!-- 수상 등록 -->
	<insert id="insertAward">
		/*kr.happy.study.sup.dao.AwardMgtDao.insertAward*/

		INSERT INTO tb_award
		(
		loginID, award_nm, award_date
		)
		VALUES
		(
		#{loginID}, #{award_nm}, #{award_date}
		)
	</insert>

	<!-- 수상 수정 -->
	<update id="updateAward">
		/*kr.happy.study.sup.dao.AwardMgtDao.updateAward*/
		
		UPDATE tb_award SET
		  award_nm = #{award_nm}
		, award_date = #{award_date}

		WHERE award_no = #{award_no}
	</update>
	
  <!-- 과정 단건 조회 -->
  <select id="selectAward" resultType="kr.happyjob.study.sup.model.AwardMgtModel">
    /*kr.happy.study.sup.dao.AwardMgtDao.selectAward*/
    
    SELECT  
        award_no as award_no
      , loginID as loginID
      , award_nm as award_nm
      , award_date as award_date  
      
    FROM  tb_award
    
    WHERE award_no = #{award_no}
    
  </select>

</mapper>